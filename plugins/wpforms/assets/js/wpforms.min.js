"use strict";var wpforms=window.wpforms||function(b,c,$){var a={init:function(){$(a.ready),$(c).on("load",function(){"function"==typeof $.ready.then?$.ready.then(a.load):a.load()}),a.bindUIActions(),a.bindOptinMonster()},ready:function(){a.clearUrlQuery(),a.setUserIndentifier(),a.loadValidation(),a.loadDatePicker(),a.loadTimePicker(),a.loadInputMask(),a.loadSmartPhoneField(),a.loadPayments(),a.loadMailcheck(),a.loadChoicesJS(),$(".wpforms-randomize").each(function(){for(var b=$(this),a=b.children();a.length;)b.append(a.splice(Math.floor(Math.random()*a.length),1)[0])}),$(".wpforms-page-button").prop("disabled",!1),$(b).trigger("wpformsReady")},load:function(){},clearUrlQuery:function(){var b=c.location,a=b.search;-1!==a.indexOf("wpforms_form_id=")&&(a=a.replace(/([&?]wpforms_form_id=[0-9]*$|wpforms_form_id=[0-9]*&|[?&]wpforms_form_id=[0-9]*(?=#))/,""),history.replaceState({},null,b.origin+b.pathname+a))},loadValidation:function(){void 0!==$.fn.validate&&($(".wpforms-input-temp-name").each(function(a,b){$(this).attr("name","wpf-temp-"+(Math.floor(9999*Math.random())+1))}),$(".wpforms-validate input[type=url]").change(function(){var a=$(this).val();if(!a)return!1;"http://"!==a.substr(0,7)&&"https://"!==a.substr(0,8)&&$(this).val("https://"+a)}),$.validator.messages.required=wpforms_settings.val_required,$.validator.messages.url=wpforms_settings.val_url,$.validator.messages.email=wpforms_settings.val_email,$.validator.messages.number=wpforms_settings.val_number,void 0!==$.fn.payment&&$.validator.addMethod("creditcard",function(a,b){var c=$.payment.validateCardNumber(a);return this.optional(b)||c},wpforms_settings.val_creditcard),$.validator.addMethod("extension",function(b,c,a){return a="string"==typeof a?a.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(c)||b.match(new RegExp("\\.("+a+")$","i"))},wpforms_settings.val_fileextension),$.validator.addMethod("maxsize",function(g,a,e){var b,c,f=e,d=this.optional(a);if(d)return d;if(a.files&&a.files.length){for(b=0,c=a.files.length;b<c;b++)if(a.files[b].size>f)return!1}return!0},wpforms_settings.val_filesize),$.validator.methods.email=function(a,b){let c=function(b){if(b.length>254)return!1;let a=b.split("@");if(2!==a.length)return!1;let c=a[0],d=a[1];if(c.length>63)return!1;let e=d.split(".");for(let f of e)if(f.length>63)return!1;return!0}(a);var d=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),e=/^(?!\.)(?!.*?\.\.).*[^.]$/.test(a);return this.optional(b)||d&&e&&c},$.validator.addMethod("restricted-email",function(f,b){var g=this,a=$(b),c=a.closest(".wpforms-field"),d=a.closest(".wpforms-form"),e="pending";return!a.val().length||(this.startRequest(b),$.post({url:wpforms_settings.ajaxurl,type:"post",async:!1,data:{action:"wpforms_restricted_email",form_id:d.data("formid"),field_id:c.data("field-id"),email:a.val()},dataType:"json",success:function(a){var c={};(e=a.success&&a.data)?(g.resetInternals(),g.toHide=g.errorsFor(b),g.showErrors()):(c[b.name]=wpforms_settings.val_email_restricted,g.showErrors(c)),g.stopRequest(b,e)}}),e)},wpforms_settings.val_email_restricted),$.validator.addMethod("confirm",function(c,b,d){let a=$(b).closest(".wpforms-field");return $(a.find("input")[0]).val()===$(a.find("input")[1]).val()},wpforms_settings.val_confirm),$.validator.addMethod("required-payment",function(b,c){return a.amountSanitize(b)>0},wpforms_settings.val_requiredpayment),$.validator.addMethod("time12h",function(a,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(a)},wpforms_settings.val_time12h),$.validator.addMethod("time24h",function(a,b){return this.optional(b)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(\ ?[AP]M)?$/i.test(a)},wpforms_settings.val_time24h),$.validator.addMethod("time-limit",function(b,f){var e=$(f),c=e.data("min-time"),d=e.data("max-time"),g=e.prop("required");return!!(!(void 0!==c)|| !g&&a.empty(b))||(a.compareTimesGreaterThan(d,c)?a.compareTimesGreaterThan(b,c)&&a.compareTimesGreaterThan(d,b):a.compareTimesGreaterThan(b,c)&&a.compareTimesGreaterThan(b,d)||a.compareTimesGreaterThan(c,b)&&a.compareTimesGreaterThan(d,b))},function(e,d){var c=$(d),a=c.data("min-time"),b=c.data("max-time");return a=a.replace(/^00:([0-9]{2})pm$/,"12:$1pm"),b=b.replace(/^00:([0-9]{2})pm$/,"12:$1pm"),a=a.replace(/(am|pm)/g," $1").toUpperCase(),b=b.replace(/(am|pm)/g," $1").toUpperCase(),wpforms_settings.val_time_limit.replace("{minTime}",a).replace("{maxTime}",b)}),$.validator.addMethod("check-limit",function(e,c){var a=$(c).closest("ul"),d=a.find('input[type="checkbox"]:checked'),b=parseInt(a.attr("data-choice-limit")||0,10);return 0===b||d.length<=b},function(c,a){var b=parseInt($(a).closest("ul").attr("data-choice-limit")||0,10);return wpforms_settings.val_checklimit.replace("{#}",b)}),void 0!==$.fn.intlTelInput&&$.validator.addMethod("smart-phone-field",function(b,a){return!b.match(/[^\d()\-+\s]/)&&(this.optional(a)||$(a).intlTelInput("isValidNumber"))},wpforms_settings.val_phone),$.validator.addMethod("empty-blanks",function(a,b){return void 0===$.fn.inputmask||!(a.indexOf(b.inputmask.opts.placeholder)+1)},wpforms_settings.val_empty_blanks),$.validator.addMethod("required-positive-number",function(b,c){return a.amountSanitize(b)>0},wpforms_settings.val_number_positive),$.validator.addMethod("us-phone-field",function(a,b){return!a.match(/[^\d()\-+\s]/)&&(this.optional(b)||10===a.replace(/[^\d]/g,"").length)},wpforms_settings.val_phone),$.validator.addMethod("int-phone-field",function(a,b){return!a.match(/[^\d()\-+\s]/)&&(this.optional(b)||a.replace(/[^\d]/g,"").length>0)},wpforms_settings.val_phone),$.validator.addMethod("password-strength",function(c,b){var a=$(b);return""===a.val().trim()&&!a.hasClass("wpforms-field-required")||WPFormsPasswordField.passwordStrength(c,b)>=Number(a.data("password-strength-level"))},wpforms_settings.val_password_strength),$(".wpforms-validate").each(function(){var d,e=$(this),b=e.data("formid");d=void 0!==c["wpforms_"+b]&&c["wpforms_"+b].hasOwnProperty("validate")?c["wpforms_"+b].validate:"undefined"!=typeof wpforms_validate?wpforms_validate:{errorClass:"wpforms-error",validClass:"wpforms-valid",ignore:":hidden:not(textarea.wp-editor-area), .wpforms-conditional-hide textarea.wp-editor-area",errorPlacement:function(c,b){a.isLikertScaleField(b)?b.closest("table").hasClass("single-row")?b.closest(".wpforms-field").append(c):b.closest("tr").find("th").append(c):a.isWrappedField(b)?b.closest(".wpforms-field").append(c):a.isDateTimeField(b)?a.dateTimeErrorPlacement(b,c):a.isFieldInColumn(b)?b.parent().append(c):c.insertAfter(b)},highlight:function(e,b,c){var a=$(e),d=a.closest(".wpforms-field"),f=a.attr("name");"radio"===a.attr("type")||"checkbox"===a.attr("type")?d.find('input[name="'+f+'"]').addClass(b).removeClass(c):a.addClass(b).removeClass(c),d.addClass("wpforms-has-error")},unhighlight:function(e,b,c){var a=$(e),d=a.closest(".wpforms-field"),f=a.attr("name");"radio"===a.attr("type")||"checkbox"===a.attr("type")?d.find('input[name="'+f+'"]').addClass(c).removeClass(b):a.addClass(c).removeClass(b),d.removeClass("wpforms-has-error")},submitHandler:function(c){var b=function(){var b=$(c),d=b.find(".wpforms-submit"),f=d.data("alt-text"),e=d.get(0).recaptchaID;if(b.data("token")&&0===$(".wpforms-token",b).length&&$('<input type="hidden" class="wpforms-token" name="wpforms[token]" />').val(b.data("token")).appendTo(b),d.prop("disabled",!0),b.find("#wpforms-field_recaptcha-error").remove(),f&&d.text(f),!a.empty(e)||0===e)return grecaptcha.execute(e).then(null,function(a){a=null===a?"":"<br>"+a,b.find(".wpforms-recaptcha-container").append('<label id="wpforms-field_recaptcha-error" class="wpforms-error"> '+wpforms_settings.val_recaptcha_fail_msg+a+"</label>"),d.prop("disabled",!1)}),!1;$(".wpforms-input-temp-name").removeAttr("name"),a.formSubmit(b)};return"function"==typeof wpformsRecaptchaV3Execute?wpformsRecaptchaV3Execute(b):b()},invalidHandler:function(a,b){},onkeyup:function(a,b){var c=[16,17,18,20,35,36,37,38,39,40,45,144,225];!$(a).hasClass("wpforms-novalidate-onkeyup")&&(9!==b.which||""!==this.elementValue(a))&& -1===$.inArray(b.keyCode,c)&&(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},onfocusout:function(a){var b=!1;$(a).hasClass("wpforms-novalidate-onkeyup")&&!a.value&&(b=!0),!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&(b=!0),b&&this.element(a)},onclick:function(b){var c=!1,d=(b||{}).type,a=$(b);["checkbox","radio"].indexOf(d)> -1&&((a=a.hasClass("wpforms-likert-scale-option")?a.closest("tr"):a.closest(".wpforms-field")).find("label.wpforms-error").remove(),c=!0),c&&this.element(b)}},e.validate(d)}))},isFieldInColumn:function(a){return a.parent().hasClass("wpforms-one-half")||a.parent().hasClass("wpforms-two-fifths")||a.parent().hasClass("wpforms-one-fifth")},isDateTimeField:function(a){return a.hasClass("wpforms-timepicker")||a.hasClass("wpforms-datepicker")||a.is("select")&&a.attr("class").match(/date-month|date-day|date-year/)},isWrappedField:function(a){return"checkbox"===a.attr("type")||"radio"===a.attr("type")||"range"===a.attr("type")||"select"===a.is("select")||a.parent().hasClass("iti")||a.hasClass("wpforms-validation-group-member")||a.hasClass("choicesjs-select")||a.hasClass("wpforms-net-promoter-score-option")},isLikertScaleField:function(a){return a.hasClass("wpforms-likert-scale-option")},dateTimeErrorPlacement:function(b,c){var a=b.closest(".wpforms-field-row-block, .wpforms-field-date-time");a.length?a.find("label.wpforms-error").length||a.append(c):b.closest(".wpforms-field").append(c)},loadDatePicker:function(){void 0!==$.fn.flatpickr&&$(".wpforms-datepicker-wrap").each(function(){var a,d=$(this),f=d.find("input"),b=d.closest(".wpforms-form").data("formid"),g=d.closest(".wpforms-field").data("field-id");!(a=void 0!==c["wpforms_"+b+"_"+g]&&c["wpforms_"+b+"_"+g].hasOwnProperty("datepicker")?c["wpforms_"+b+"_"+g].datepicker:void 0!==c["wpforms_"+b]&&c["wpforms_"+b].hasOwnProperty("datepicker")?c["wpforms_"+b].datepicker:"undefined"!=typeof wpforms_datepicker?wpforms_datepicker:{disableMobile:!0}).hasOwnProperty("locale")&&"undefined"!=typeof wpforms_settings&&wpforms_settings.hasOwnProperty("locale")&&(a.locale=wpforms_settings.locale),a.wrap=!0,a.dateFormat=f.data("date-format"),1===f.data("disable-past-dates")&&(a.minDate="today");var e=f.data("limit-days"),h=["sun","mon","tue","wed","thu","fri","sat"];e&&""!==e&&(e=e.split(","),a.disable=[function(a){for(var b in e)if(h.indexOf(e[b])===a.getDay())return!1;return!0}]),a.onChange=function(b,a,c){d.find(".wpforms-datepicker-clear").css("display",""===a?"none":"block")},d.flatpickr(a)})},loadTimePicker:function(){void 0!==$.fn.timepicker&&$(".wpforms-timepicker").each(function(){var e,b=$(this),a=b.closest(".wpforms-form").data("formid"),d=b.closest(".wpforms-field").data("field-id");e=void 0!==c["wpforms_"+a+"_"+d]&&c["wpforms_"+a+"_"+d].hasOwnProperty("timepicker")?c["wpforms_"+a+"_"+d].timepicker:void 0!==c["wpforms_"+a]&&c["wpforms_"+a].hasOwnProperty("timepicker")?c["wpforms_"+a].timepicker:"undefined"!=typeof wpforms_timepicker?wpforms_timepicker:{scrollDefault:"now",forceRoundTime:!0},b.timepicker(e)})},loadInputMask:function(){void 0!==$.fn.inputmask&&$(".wpforms-masked-input").inputmask()},loadSmartPhoneField:function(){if(void 0!==$.fn.intlTelInput){var d={};if(wpforms_settings.gdpr||(d.geoIpLookup=a.currentIpToCountry),wpforms_settings.gdpr)var e=this.getFirstBrowserLanguage(),b=e.indexOf("-")> -1?e.split("-").pop():"";if(b){var f=c.intlTelInputGlobals.getCountryData();b=(f=f.filter(function(a){return a.iso2===b.toLowerCase()})).length?b:""}d.initialCountry=wpforms_settings.gdpr&&b?b:"auto",$(".wpforms-smart-phone-field").each(function(f,e){var b=$(e);d.hiddenInput=b.closest(".wpforms-field-phone").data("field-id"),d.utilsScript=wpforms_settings.wpforms_plugin_url+"pro/assets/js/vendor/jquery.intl-tel-input-utils.js",b.intlTelInput(d),b.attr("name","wpf-temp-"+b.attr("name")),b.addClass("wpforms-input-temp-name"),b.on("blur input",function(){(b.intlTelInput("isValidNumber")||!a.empty(c.WPFormsEditEntry))&&b.siblings('input[type="hidden"]').val(b.intlTelInput("getNumber"))})}),$(".wpforms-form").on("wpformsBeforeFormSubmit",function(){$(this).find(".wpforms-smart-phone-field").trigger("input")})}},loadPayments:function(){$(".wpforms-payment-total").each(function(b,c){a.amountTotal(this)}),void 0!==$.fn.payment&&($(".wpforms-field-credit-card-cardnumber").payment("formatCardNumber"),$(".wpforms-field-credit-card-cardcvc").payment("formatCardCVC"))},loadMailcheck:function(){wpforms_settings.mailcheck_enabled&& void 0!==$.fn.mailcheck&&(wpforms_settings.mailcheck_domains.length>0&&(Mailcheck.defaultDomains=Mailcheck.defaultDomains.concat(wpforms_settings.mailcheck_domains)),wpforms_settings.mailcheck_toplevel_domains.length>0&&(Mailcheck.defaultTopLevelDomains=Mailcheck.defaultTopLevelDomains.concat(wpforms_settings.mailcheck_toplevel_domains)),$(b).on("blur",".wpforms-field-email input",function(){var a=$(this),b=a.attr("id");a.mailcheck({suggested:function(c,a){if(a.address.match(/^xn--/)){a.full=punycode.toUnicode(decodeURI(a.full));var d=a.full.split("@");a.address=d[0],a.domain=d[1]}a.domain.match(/^xn--/)&&(a.domain=punycode.toUnicode(decodeURI(a.domain)));var e=decodeURI(a.address).replaceAll(/[<>'"()/\\|:;=@%&\s]/ig,"").substr(0,64),f=decodeURI(a.domain).replaceAll(/[<>'"()/\\|:;=@%&+_\s]/ig,"");a='<a href="#" class="mailcheck-suggestion" data-id="'+b+'" title="'+wpforms_settings.val_email_suggestion_title+'">'+e+"@"+f+"</a>",a=wpforms_settings.val_email_suggestion.replace("{suggestion}",a),c.closest(".wpforms-field").find("#"+b+"_suggestion").remove(),c.parent().append('<label class="wpforms-error mailcheck-error" id="'+b+'_suggestion">'+a+"</label>")},empty:function(){$("#"+b+"_suggestion").remove()}})}),$(b).on("click",".wpforms-field-email .mailcheck-suggestion",function(b){var a=$(this),c=a.closest(".wpforms-field"),d=a.data("id");b.preventDefault(),c.find("#"+d).val(a.text()),a.parent().remove()}))},loadChoicesJS:function(){"function"==typeof c.Choices&&$(".wpforms-field-select-style-modern .choicesjs-select, .wpforms-field-payment-select .choicesjs-select").each(function(e,a){if(!$(a).data("choicesjs")){var b=c.wpforms_choicesjs_config||{},d=$(a).data("search-enabled");b.searchEnabled=void 0===d||d,b.callbackOnInit=function(){var a=this,b=$(a.passedElement.element),d=$(a.input.element),c=b.data("size-class");b.removeAttr("hidden").addClass(a.config.classNames.input+"--hidden"),c&&$(a.containerOuter.element).addClass(c),b.prop("multiple")&&a.getValue(!0).length&&d.addClass(a.config.classNames.input+"--hidden"),b.on("change",function(){var c;b.prop("multiple")&&(a.getValue(!0).length>0?d.addClass(a.config.classNames.input+"--hidden"):d.removeClass(a.config.classNames.input+"--hidden")),(c=b.closest("form").data("validator"))&&c.element(b)})},b.callbackOnCreateTemplates=function(){var a=$(this.passedElement.element);return{option:function(b){var c=Choices.defaults.templates.option.call(this,b);return void 0!==b.placeholder&& !0===b.placeholder&&c.classList.add("placeholder"),a.hasClass("wpforms-payment-price")&& void 0!==b.customProperties&&null!==b.customProperties&&(c.dataset.amount=b.customProperties),c}}},$(a).data("choicesjs",new Choices(a,b))}})},bindUIActions:function(){$(b).on("click",".wpforms-page-button",function(b){b.preventDefault(),a.pagebreakNav(this)}),$(b).on("change input",".wpforms-payment-price",function(){a.amountTotal(this,!0)}),$(b).on("input",".wpforms-payment-user-input",function(){var a=$(this),b=a.val();a.val(b.replace(/[^0-9.,]/g,""))}),$(b).on("focusout",".wpforms-payment-user-input",function(){var c=$(this),b=c.val();if(!b)return b;var d=a.amountSanitize(b),e=a.amountFormat(d);c.val(e)}),$(b).on("wpformsProcessConditionals",function(c,b){a.amountTotal(b,!0)}),$(".wpforms-field-rating-item").hover(function(){$(this).parent().find(".wpforms-field-rating-item").removeClass("selected hover"),$(this).prevAll().addBack().addClass("hover")},function(){$(this).parent().find(".wpforms-field-rating-item").removeClass("selected hover"),$(this).parent().find("input:checked").parent().prevAll().addBack().addClass("selected")}),$(b).on("change",".wpforms-field-rating-item input",function(){var a=$(this);a.closest(".wpforms-field-rating-items").find(".wpforms-field-rating-item").removeClass("hover selected"),a.parent().prevAll().addBack().addClass("selected")}),$(function(){$(".wpforms-field-rating-item input:checked").change()}),$(b).on("keypress",".wpforms-image-choices-item label",function(a){var b=$(this);if(b.closest(".wpforms-field").hasClass("wpforms-conditional-hide"))return a.preventDefault(),!1;13===a.which&&$("#"+b.attr("for")).click()}),c.document.documentMode&&$(b).on("click",".wpforms-image-choices-item img",function(){$(this).closest("label").find("input").click()}),$(b).on("change",".wpforms-field-checkbox input, .wpforms-field-radio input, .wpforms-field-payment-multiple input, .wpforms-field-payment-checkbox input, .wpforms-field-gdpr-checkbox input",function(b){var a=$(this);if(a.closest(".wpforms-field").hasClass("wpforms-conditional-hide"))return b.preventDefault(),!1;switch(a.attr("type")){case"radio":a.closest("ul").find("li").removeClass("wpforms-selected").find("input[type=radio]").removeProp("checked"),a.prop("checked",!0).closest("li").addClass("wpforms-selected");break;case"checkbox":a.is(":checked")?(a.closest("li").addClass("wpforms-selected"),a.prop("checked",!0)):(a.closest("li").removeClass("wpforms-selected"),a.prop("checked",!1))}}),$(b).on("change",'.wpforms-field-file-upload input[type=file]:not(".dropzone-input")',function(){var f=$(this),h=f.closest("form.wpforms-form").find('.wpforms-field-file-upload input:not(".dropzone-input")'),a=0,b=Number(wpforms_settings.post_max_size),c='<div class="wpforms-error-container-post_max_size">'+wpforms_settings.val_post_max_size+"</div>",e=f.closest("form.wpforms-form").find(".wpforms-submit-container"),g=e.find("button.wpforms-submit"),d=e.prev();h.each(function(){for(var c=$(this),b=0,d=c[0].files.length;b<d;b++)a+=c[0].files[b].size}),a>b?(a=Number((a/1048576).toFixed(3)),b=Number((b/1048576).toFixed(3)),c=c.replace(/{totalSize}/,a).replace(/{maxSize}/,b),d.hasClass("wpforms-error-container")?(d.find(".wpforms-error-container-post_max_size").remove(),d.append(c)):e.before('<div class="wpforms-error-container">{errorMsg}</span></div>'.replace(/{errorMsg}/,c)),g.prop("disabled",!0)):(d.find(".wpforms-error-container-post_max_size").remove(),g.prop("disabled",!1))}),$(b).on("change input",".wpforms-field-number-slider input[type=range]",function(a){var b=$(a.target).siblings(".wpforms-field-number-slider-hint");b.html(b.data("hint").replace("{value}","<b>"+a.target.value+"</b>"))}),$(b).on("keydown",".wpforms-form input",function(c){if(13===c.keyCode){var a=$(this),b=a.closest(".wpforms-page");if(!(0===b.length||0>["text","tel","number","email","url","radio","checkbox"].indexOf(a.attr("type")))){if(a.hasClass("wpforms-datepicker")&&a.flatpickr("close"),c.preventDefault(),b.hasClass("last")){b.closest(".wpforms-form").find(".wpforms-submit").click();return}b.find(".wpforms-page-next").click()}}}),$(b).on("keypress",".wpforms-field-number input",function(a){return/^[-0-9.]+$/.test(String.fromCharCode(a.keyCode||a.which))})},entryPreviewFieldPageChange:function(a,b,c){console.warn("WARNING! Obsolete function called. Function wpforms.entryPreviewFieldPageChange has been deprecated, please use the WPFormsEntryPreview.pageChange function instead!"),WPFormsEntryPreview.pageChange(a,b,c)},entryPreviewFieldUpdate:function(a,b){console.warn("WARNING! Obsolete function called. Function wpforms.entryPreviewFieldUpdate has been deprecated, please use the WPFormsEntryPreview.update function instead!"),WPFormsEntryPreview.update(a,b)},scrollToError:function(){},pagebreakNav:function(t){var f=$(t),u=!0,l=f.data("action"),h=f.data("page"),e=h,m=h+1,n=h-1,d=f.closest(".wpforms-form"),k=d.find(".wpforms-page-"+h),o=d.find(".wpforms-submit-container"),b=d.find(".wpforms-page-indicator"),p=d.find(".wpforms-recaptcha-container"),g=!1;if(a.saveTinyMCE(),g=!1!==c.wpforms_pageScroll&&(a.empty(c.wpform_pageScroll)?0!==b.data("scroll")&&75:c.wpform_pageScroll),"next"===l){if(void 0!==$.fn.validate&&k.find(":input").each(function(b,a){$(a).attr("name")&&($(a).valid()||(u=!1))}),u){e=m,f.trigger("wpformsBeforePageChange",[e,d]),k.hide();var q=d.find(".wpforms-page-"+m);q.show(),q.hasClass("last")&&(p.show(),o.show()),g&&a.animateScrollTop(d.offset().top-g,750),f.trigger("wpformsPageChange",[e,d])}}else"prev"===l&&(e=n,f.trigger("wpformsBeforePageChange",[e,d]),k.hide(),d.find(".wpforms-page-"+n).show(),p.hide(),o.hide(),g&&a.animateScrollTop(d.offset().top-g),f.trigger("wpformsPageChange",[e,d]));if(b){var i=b.data("indicator"),r=b.data("indicator-color");if("connector"===i||"circles"===i)b.find(".wpforms-page-indicator-page").removeClass("active"),b.find(".wpforms-page-indicator-page-"+e).addClass("active"),b.find(".wpforms-page-indicator-page-number").removeAttr("style"),b.find(".active .wpforms-page-indicator-page-number").css("background-color",r),"connector"===i&&(b.find(".wpforms-page-indicator-page-triangle").removeAttr("style"),b.find(".active .wpforms-page-indicator-page-triangle").css("border-top-color",r));else if("progress"===i){var j=b.find(".wpforms-page-indicator-page-title"),s=b.find(".wpforms-page-indicator-page-title-sep"),v=e/d.find(".wpforms-page").length*100;b.find(".wpforms-page-indicator-page-progress").css("width",v+"%"),b.find(".wpforms-page-indicator-steps-current").text(e),j.data("page-"+e+"-title")?(j.css("display","inline").text(j.data("page-"+e+"-title")),s.css("display","inline")):(j.css("display","none"),s.css("display","none"))}}},bindOptinMonster:function(){b.addEventListener("om.Campaign.load",function(b){a.ready(),a.optinMonsterRecaptchaReset(b.detail.Campaign.data.id)}),$(b).on("OptinMonsterOnShow",function(c,b,d){a.ready(),a.optinMonsterRecaptchaReset(b.optin)})},optinMonsterRecaptchaReset:function(f){var a=$("#om-"+f).find(".wpforms-form"),c=a.find(".wpforms-recaptcha-container"),b=a.find(".g-recaptcha");if(a.length&&b.length){var d=b.attr("data-sitekey"),e="recaptcha-"+Date.now(),g=c.hasClass("wpforms-is-hcaptcha")?hcaptcha:grecaptcha;b.remove(),c.prepend('<div class="g-recaptcha" id="'+e+'" data-sitekey="'+d+'"></div>'),g.render(e,{sitekey:d,callback:function(){wpformsRecaptchaCallback($("#"+e))}})}},amountTotal:function(f,d){d=d||!1;var b,g,e=$(f).closest(".wpforms-form"),c=a.getCurrency(),h=a.amountTotalCalc(e);b=a.amountFormat(h),g="left"===c.symbol_pos?c.symbol+" "+b:b+" "+c.symbol,e.find(".wpforms-payment-total").each(function(a,b){"hidden"===$(this).attr("type")||"text"===$(this).attr("type")?($(this).val(g),"text"===$(this).attr("type")&&d&&e.data("validator")&&$(this).valid()):$(this).text(g)})},amountTotalCalc:function(b){var c=0;return $(".wpforms-payment-price",b).each(function(){var d=0,b=$(this),e=b.attr("type");!b.closest(".wpforms-field-payment-single").hasClass("wpforms-conditional-hide")&&("text"===e||"hidden"===e?d=b.val():("radio"===e||"checkbox"===e)&&b.is(":checked")?d=b.data("amount"):b.is("select")&&b.find("option:selected").length>0&&(d=b.find("option:selected").data("amount")),a.empty(d)||(d=a.amountSanitize(d),c=Number(c)+Number(d)))}),c},amountSanitize:function(b){var c=a.getCurrency();return b=b.toString().replace(/[^0-9.,]/g,""),","===c.decimal_sep?("."===c.thousands_sep&& -1!==b.indexOf(c.thousands_sep)?b=b.replace(new RegExp("\\"+c.thousands_sep,"g"),""):""===c.thousands_sep&& -1!==b.indexOf(".")&&(b=b.replace(/\./g,"")),b=b.replace(c.decimal_sep,".")):","===c.thousands_sep&& -1!==b.indexOf(c.thousands_sep)&&(b=b.replace(new RegExp("\\"+c.thousands_sep,"g"),"")),a.numberFormat(b,c.decimals,".","")},amountFormat:function(b){var c=a.getCurrency();if(b=String(b),","===c.decimal_sep&& -1!==b.indexOf(c.decimal_sep)){var d=b.indexOf(c.decimal_sep),e=b.substr(0,d),f=b.substr(d+1,b.length-1);b=e+"."+f}return","===c.thousands_sep&& -1!==b.indexOf(c.thousands_sep)&&(b=b.replace(/,/g,"")),a.empty(b)&&(b=0),a.numberFormat(b,c.decimals,c.decimal_sep,c.thousands_sep)},getCurrency:function(){var a={code:"USD",thousands_sep:",",decimals:2,decimal_sep:".",symbol:"$",symbol_pos:"left"};return void 0!==wpforms_settings.currency_code&&(a.code=wpforms_settings.currency_code),void 0!==wpforms_settings.currency_thousands&&(a.thousands_sep=wpforms_settings.currency_thousands),void 0!==wpforms_settings.currency_decimals&&(a.decimals=wpforms_settings.currency_decimals),void 0!==wpforms_settings.currency_decimal&&(a.decimal_sep=wpforms_settings.currency_decimal),void 0!==wpforms_settings.currency_symbol&&(a.symbol=wpforms_settings.currency_symbol),void 0!==wpforms_settings.currency_symbol_pos&&(a.symbol_pos=wpforms_settings.currency_symbol_pos),a},numberFormat:function(c,e,f,g){var a,h,i,d,j=isFinite(+(c=(c+"").replace(/[^0-9+\-Ee.]/g,"")))?+c:0,b=isFinite(+e)?Math.abs(e):0;return(a=(b?(h=j,d=Math.pow(10,i=b),""+(Math.round(h*d)/d).toFixed(i)):""+Math.round(j)).split("."))[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,void 0===g?",":g)),(a[1]||"").length<b&&(a[1]=a[1]||"",a[1]+=new Array(b-a[1].length+1).join("0")),a.join(void 0===f?".":f)},empty:function(a){var c,b,d,e=[void 0,null,!1,0,"","0"];for(b=0,d=e.length;b<d;b++)if(a===e[b])return!0;if("object"==typeof a){for(c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},setUserIndentifier:function(){if((!c.hasRequiredConsent&&"undefined"!=typeof wpforms_settings&&wpforms_settings.uuid_cookie||c.hasRequiredConsent&&c.hasRequiredConsent())&&!a.getCookie("_wpfuuid")){for(var e,b=new Array(36),f="0123456789abcdef",d=0;d<36;d++)b[d]=f.substr(Math.floor(16*Math.random()),1);b[14]="4",b[19]=f.substr(3&b[19]|8,1),b[8]=b[13]=b[18]=b[23]="-",e=b.join(""),a.createCookie("_wpfuuid",e,3999)}},createCookie:function(f,g,c){var a="",e="";if(wpforms_settings.is_ssl&&(e=";secure"),c){if("-1"===c)a="";else{var d=new Date;d.setTime(d.getTime()+864e5*c),a=";expires="+d.toGMTString()}}else a=";expires=Thu, 01 Jan 1970 00:00:01 GMT";b.cookie=f+"="+g+a+";path=/;samesite=strict"+e},getCookie:function(f){for(var d=f+"=",e=b.cookie.split(";"),c=0;c<e.length;c++){for(var a=e[c];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(d))return a.substring(d.length,a.length)}return null},removeCookie:function(b){a.createCookie(b,"",-1)},getFirstBrowserLanguage:function(){var a,b,d=c.navigator,e=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(d.languages)){for(a=0;a<d.languages.length;a++)if((b=d.languages[a])&&b.length)return b}for(a=0;a<e.length;a++)if((b=d[e[a]])&&b.length)return b;return""},currentIpToCountry:function(b){var c=function(){$.get("https://ipapi.co/jsonp",function(){},"jsonp").always(function(c){var d=c&&c.country?c.country:"";if(!d){var e=a.getFirstBrowserLanguage();d=e.indexOf("-")> -1?e.split("-").pop():""}b(d)})};$.get("https://geo.wpforms.com/v3/geolocate/json").done(function(a){a&&a.country_iso?b(a.country_iso):c()}).fail(function(a){c()})},formSubmit:function(b){b instanceof jQuery||(b=$(b)),a.saveTinyMCE(),b.trigger("wpformsBeforeFormSubmit"),b.hasClass("wpforms-ajax-form")&&"undefined"!=typeof FormData?a.formSubmitAjax(b):a.formSubmitNormal(b)},formSubmitNormal:function(b){if(b.length){var c=b.find(".wpforms-submit"),d=c.get(0).recaptchaID;a.empty(d)&&0!==d||(c.get(0).recaptchaID=!1),b.get(0).submit()}},resetFormRecaptcha:function(c){if(c&&c.length&&("undefined"!=typeof hcaptcha||"undefined"!=typeof grecaptcha)){var b,d=c.find(".wpforms-recaptcha-container").hasClass("wpforms-is-hcaptcha")?hcaptcha:grecaptcha;b=c.find(".wpforms-submit").get(0).recaptchaID,a.empty(b)&&0!==b&&(b=c.find(".g-recaptcha").data("recaptcha-id")),a.empty(b)&&0!==b||d.reset(b)}},consoleLogAjaxError:function(a){a?console.error("WPForms AJAX submit error:\n%s",a):console.error("WPForms AJAX submit error")},displayFormAjaxErrors:function(c,b){if("string"==typeof b){a.displayFormAjaxGeneralErrors(c,b);return}if(b=b&&"errors"in b?b.errors:null,a.empty(b)||a.empty(b.general)&&a.empty(b.field)){a.consoleLogAjaxError();return}a.empty(b.general)||a.displayFormAjaxGeneralErrors(c,b.general),a.empty(b.field)||a.displayFormAjaxFieldErrors(c,b.field)},displayFormAjaxGeneralErrors:function(c,b){if(!(!c||!c.length||a.empty(b))){if("string"==typeof b){c.find(".wpforms-submit-container").before('<div class="wpforms-error-container">'+b+"</div>");return}$.each(b,function(b,a){switch(b){case"header":c.prepend(a);break;case"footer":c.find(".wpforms-submit-container").before(a);break;case"recaptcha":c.find(".wpforms-recaptcha-container").append(a)}})}},clearFormAjaxGeneralErrors:function(a){a.find(".wpforms-error-container").remove(),a.find("#wpforms-field_recaptcha-error").remove()},displayFormAjaxFieldErrors:function(b,d){if(!(!b||!b.length||a.empty(d))){var c=b.data("validator");c&&(c.showErrors(d),c.focusInvalid())}},formSubmitAjax:function(b){if(!b.length)return $.Deferred().reject();var h,e,d,f=b.closest(".wpforms-container"),g=b.find(".wpforms-submit-spinner");return f.css("opacity",.6),g.show(),a.clearFormAjaxGeneralErrors(b),(e=new FormData(b.get(0))).append("action","wpforms_submit"),e.append("page_url",c.location.href),(d={type:"post",dataType:"json",url:wpforms_settings.ajaxurl,data:e,cache:!1,contentType:!1,processData:!1}).success=function(d){if(!d){a.consoleLogAjaxError();return}if(d.data&&d.data.action_required){b.trigger("wpformsAjaxSubmitActionRequired",d);return}if(!d.success){a.resetFormRecaptcha(b),a.displayFormAjaxErrors(b,d.data),b.trigger("wpformsAjaxSubmitFailed",d);return}if(b.trigger("wpformsAjaxSubmitSuccess",d),d.data){if(d.data.redirect_url){b.trigger("wpformsAjaxSubmitBeforeRedirect",d),c.location=d.data.redirect_url;return}d.data.confirmation&&(f.html(d.data.confirmation),h=f.find("div.wpforms-confirmation-scroll"),f.trigger("wpformsAjaxSubmitSuccessConfirmation",d),h.length&&a.animateScrollTop(h.offset().top-100))}},d.error=function(d,e,c){a.consoleLogAjaxError(c),b.trigger("wpformsAjaxSubmitError",[d,e,c])},d.complete=function(a,d){if(!a.responseJSON||!a.responseJSON.data|| !a.responseJSON.data.action_required&&("success"!==d||!a.responseJSON.data.redirect_url)){var c=b.find(".wpforms-submit"),e=c.data("submit-text");e&&c.text(e),c.prop("disabled",!1),f.css("opacity",""),g.hide(),b.trigger("wpformsAjaxSubmitCompleted",[a,d])}},b.trigger("wpformsAjaxBeforeSubmit"),$.ajax(d)},animateScrollTop:function(c,b,a){return b=b||1e3,a="function"==typeof a?a:function(){},$("html, body").animate({scrollTop:parseInt(c,10)},{duration:b,complete:a}).promise()},saveTinyMCE:function(){"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave()},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},compareTimesGreaterThan:function(a,b){a=a.replace(/(am|pm)/g," $1").toUpperCase(),b=b.replace(/(am|pm)/g," $1").toUpperCase();var c=Date.parse("01 Jan 2021 "+a),d=Date.parse("01 Jan 2021 "+b);return c>=d}};return a}(document,window,jQuery);wpforms.init()
